<script setup>
const navigateParams = {
    nextEl: ".swiper-next",
    prevEl: ".swiper-prev",
};

const activeReview = ref();

const changeActiveReviews = (id) => {
    activeReview.value = activeReview.value !== id ? id : 0;
    console.log(activeReview.value);
}

const onSlideChange = () => {
    activeReview.value = 0;
    console.log(activeReview.value);
}

</script>

<template>
    <section id="reviews" class="reviews">
        <div class="global-title">–æ—Ç–∑—ã–≤—ã</div>
        <div class="reviews__swiper">
            <Swiper :slides-per-view="1" :modules="[SwiperNavigation]" :navigation="navigateParams" :autoplay="{
                delay: 1000,
            }" @slide-change="onSlideChange()">
                <SwiperSlide>
                    <div class="reviews__card">
                        <div class="reviews__img">
                            <img src="@/assets/img/reviews/reviews1.png" alt="">
                        </div>
                        <div class="reviews__content">
                            <p class="reviews__text" :class="activeReview == 1 ? 'reviews__text--active' : ''">
                                –û–±—Ä–∞—Ç–∏–ª—Å—è –≤ –∫–æ–º–ø–∞–Ω–∏—é next level car –ø–æ –ø–æ–≤–æ–¥—É –ø–æ–¥–±–æ—Ä–∞ –Ω–æ–≤–æ–≥–æ –∞–≤—Ç–æ . –ë—ã–ª–∏ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω—ã
                                –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
                                –ø–æ –ø–æ–∏—Å–∫—É –∞–≤—Ç–æ–º–æ–±–∏–ª—è , –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—è , –≥–æ–¥ –ø—Ä–æ–±–µ–≥ –º–∞—à–∏–Ω—ã –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ .<br><br>
                                –Æ—Ä–∏–µ–º , –±—ã–ª–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ –º–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏ –Ω–∞ –æ–¥–Ω–æ–º –∏–∑ –Ω–∏—Ö –æ–Ω –ø—Ä—è–º–æ –Ω–∞—Å—Ç–æ—è–ª . –ú–∞—à–∏–Ω–∞ 2020
                                –≥–æ–¥–∞ , –ø–æ–ª–Ω—ã–π
                                —Ñ–∞—Ä—à , –ø—Ä–æ–±–µ–≥ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π . –ú–Ω–æ—é –∏ –∫–æ–º–ø–∞–Ω–∏–µ–π –±—ã–ª –ø–æ–¥–ø–∏—Å–∞–Ω –¥–æ–≥–æ–≤–æ—Ä –Ω–∞ –ø–æ–∫—É–ø–∫—É –º–æ–µ–≥–æ –Ω–æ–≤–æ–≥–æ
                                –∞–≤—Ç–æ–º–æ–±–∏–ª—è .
                                –ù–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö –±—ã–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã —Ñ–æ—Ç–æ , –≤–∏–¥–µ–æ . –ë—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ª–∫–ø
                                –º–∞—à–∏–Ω—ã.¬†–ú–∞—à–∏–Ω–æ–π –æ—á–µ–Ω—å
                                –¥–æ–≤–æ–ª–µ–Ω ! –ï—Å–ª–∏ –∫—Ç–æ —Ç–æ –¥—É–º–∞–µ—Ç –ø–æ–º–µ–Ω—è—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—å , —Ç–æ —Ç–æ–≥–¥–∞ —è —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –æ–±—Ä–∞—Ç–∏—Ç—Å—è –∑–∞
                                –ø–æ–º–æ—â—å—é –∫ –Æ—Ä–∏—é ü§ù
                            </p>
                            <button v-if="activeReview!=1" class="reviews__text-more" @click="changeActiveReviews(1)">
                                <img src="@/assets/img/reviews/arrow.svg" alt="" />
                                –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                            </button>
                            <button v-if="activeReview==1" class="reviews__text-more" @click="changeActiveReviews(0)">
                                <img src="@/assets/img/reviews/arrowUp.svg" alt="" />
                                –°–∫—Ä—ã—Ç—å
                            </button>
                            <p class="reviews__name"><i>- –ò–≤–∞–Ω</i></p>
                        </div>
                    </div>
                </SwiperSlide>
                <SwiperSlide>
                    <div class="reviews__card">
                        <div class="reviews__img">
                            <img src="@/assets/img/reviews/reviews2.jpg" alt="">
                        </div>
                        <div class="reviews__content">
                            <p class="reviews__text" :class="activeReview == 2 ? 'reviews__text--active' : ''">
                                –•–æ—á—É –≤—ã—Ä–∞–∑–∏—Ç—å —Å–≤–æ—é –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –Æ—Ä–∏—é –∏ –∫–æ–º–ø–∞–Ω–∏–∏ NLC! –†–∞–±–æ—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∞ –Ω–∞ –≤—ã—Å—à–µ–º —É—Ä–æ–≤–Ω–µ -
                                –ø–æ–¥–æ–±—Ä–∞–ª–∏ –∞–≤—Ç–æ –ø–æ –≤—Å–µ–º –∑–∞–ø—Ä–æ—Å–∞–º, –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ –∏ —É–∂–µ —á–µ—Ä–µ–∑ 2 –Ω–µ–¥–µ–ª–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—å –±—ã —É –º–µ–Ω—è üî•–ë—ã–ª
                                —Ä–∞–¥ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤—É üëçüèª
                            </p>
                            <button v-if="activeReview!=2" class="reviews__text-more" @click="changeActiveReviews(2)">
                                <img src="@/assets/img/reviews/arrow.svg" alt="" />
                                –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                            </button>
                            <button v-if="activeReview==2" class="reviews__text-more" @click="changeActiveReviews(0)">
                                <img src="@/assets/img/reviews/arrowUp.svg" alt="" />
                                –°–∫—Ä—ã—Ç—å
                            </button>
                            <p class="reviews__name"><i> - –ê–Ω–¥—Ä–µ–π</i></p>
                        </div>
                    </div>
                </SwiperSlide>
                <SwiperSlide>
                    <div class="reviews__card">
                        <div class="reviews__img">
                            <img src="@/assets/img/reviews/reviews3.jpg" alt="">
                        </div>
                        <div class="reviews__content">
                            <p class="reviews__text" :class="activeReview == 3 ? 'reviews__text--active' : ''">
                                –ü–µ—Ä–µ–ø–æ–ª–Ω—è—é—Ç —ç–º–æ—Ü–∏–∏ –∏ –¥–∞–∂–µ –Ω–µ –∑–Ω–∞—é, —á—Ç–æ –∏ —Å–∫–∞–∑–∞—Ç—å)) –Æ—Ä–∞, –≤—ã—Ä–∞–∂–∞—é —Ç–µ–±–µ –∏ —Ç–≤–æ–µ–π –∫–æ–º–∞–Ω–¥–µ
                                –æ–≥—Ä–æ–º–Ω—É—é –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –∑–∞ –ø—Ä–æ–¥–µ–ª–∞–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É! –°–≤—è–∑—å, —Å–µ—Ä–≤–∏—Å –Ω–∞ –≤—ã—Å—à–µ–º —É—Ä–æ–≤–Ω–µ! –ë—É–¥—É
                                —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å –∑–Ω–∞–∫–æ–º—ã–º –∏ –¥—Ä—É–∑—å—è–ºüëåüèº –£–¥–∞—á–∏ –∏ —É—Å–ø–µ—Ö–æ–≤ –≤ —Ä–∞–±–æ—Ç–µ.
                            </p>
                            <button v-if="activeReview!=3" class="reviews__text-more" @click="changeActiveReviews(3)">
                                <img src="@/assets/img/reviews/arrow.svg" alt="" />
                                –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                            </button>
                            <button v-if="activeReview==3" class="reviews__text-more" @click="changeActiveReviews(0)">
                                <img src="@/assets/img/reviews/arrowUp.svg" alt="" />
                                –°–∫—Ä—ã—Ç—å
                            </button>
                            <p class="reviews__name"><i>- –†—É—Å–ª–∞–Ω</i></p>
                        </div>
                    </div>
                </SwiperSlide>
                <SwiperSlide>
                    <div class="reviews__card">
                        <div class="reviews__img">
                            <img src="@/assets/img/reviews/reviews4.jpg" alt="">
                        </div>
                        <div class="reviews__content">
                            <p class="reviews__text" :class="activeReview == 4 ? 'reviews__text--active' : ''">
                                –Æ—Ä–∏–π, –æ—á–µ–Ω—å –¥–æ–≤–æ–ª–µ–Ω –æ–ø—ã—Ç–æ–º —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞ —Å –≤–∞–º–∏! –ü–µ—Ä–≤–æ–µ, —á—Ç–æ –º–µ–Ω—è –ø—Ä–∏—è—Ç–Ω–æ —É–¥–∏–≤–∏–ª–æ - —ç—Ç–æ
                                –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏. –û–Ω–∏ –±—ã–ª–∏ –≥–æ—Ç–æ–≤—ã –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤—Å–µ –º–æ–∏ –≤–æ–ø—Ä–æ—Å—ã,
                                —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª—è, —É—Å–ª–æ–≤–∏—è—Ö –ø–æ–∫—É–ø–∫–∏ –∏ –∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–∏—è. –ë–ª–∞–≥–æ–¥–∞—Ä—è
                                —ç—Ç–æ–º—É —è —Å–º–æ–≥ –≤—ã–±—Ä–∞—Ç—å –¥–ª—è —Å–µ–±—è –Ω–∞–∏–ª—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –Ω–∞ —Å–∞–º—ã—Ö –≤—ã–≥–æ–¥–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö.<br><br>
                                –ö—Ä–æ–º–µ —Ç–æ–≥–æ, NLC –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É—Å–ª—É–≥. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–º–ø–∞–Ω–∏—è
                                –ø–æ–º–æ–≥–ª–∞ –º–Ω–µ –æ—Ñ–æ—Ä–º–∏—Ç—å —Å—Ç—Ä–∞—Ö–æ–≤–∫—É –Ω–∞ –∞–≤—Ç–æ. –≠—Ç–æ –¥–∞–ª–æ –º–Ω–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Ç–æ–º, —á—Ç–æ —è
                                –ø–æ–ª—É—á–∏–ª –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∏ –Ω–∞–¥—ë–∂–Ω—ã–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å.<br><br>
                                –°–ø–∞—Å–∏–±–æ –∑–∞ –∫—Ä—É—Ç–æ–µ –∞–≤—Ç–æ, —Ç–µ–ø–µ—Ä—å –±—É–¥—É –æ–±—Ä–∞—â–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –∫ –≤–∞–º!
                            </p>
                            <button v-if="activeReview!=4" class="reviews__text-more" @click="changeActiveReviews(4)">
                                <img src="@/assets/img/reviews/arrow.svg" alt="" />
                                –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                            </button>
                            <button v-if="activeReview==4" class="reviews__text-more" @click="changeActiveReviews(0)">
                                <img src="@/assets/img/reviews/arrowUp.svg" alt="" />
                                –°–∫—Ä—ã—Ç—å
                            </button>
                            <p class="reviews__name"><i>- –ê–ª–µ–∫—Å–∞–Ω–¥—Ä</i></p>
                        </div>
                    </div>
                </SwiperSlide>
                <SwiperSlide>
                    <div class="reviews__card">
                        <div class="reviews__img">
                            <img src="@/assets/img/reviews/reviews5.jpg" alt="">
                        </div>
                        <div class="reviews__content">
                            <p class="reviews__text" :class="activeReview == 5 ? 'reviews__text--active' : ''">
                                –Æ—Ä–∞, —Ö–æ—á—É —Å–∫–∞–∑–∞—Ç—å —Ç–µ–±–µ –∏ NLC –æ–≥—Ä–æ–º–Ω–æ–µ —Å–ø–∞—Å–∏–±–æ!)
                                –Ø –ø–æ–ª—É—á–∏–ª –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –ø–æ–º–æ—â—å –≤ –ø–æ–¥–±–æ—Ä–µ –∞–≤—Ç–æ –ø–æ–¥ –º–æ–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –±—é–¥–∂–µ—Ç.<br><br>
                                –û—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –∫–ª–∏–µ–Ω—Ç–∞–º –Ω–∞ –≤—ã—Å—à–µ–º —É—Ä–æ–≤–Ω–µ, —Ä–∞–±–æ—Ç–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ–¥–±–æ—Ä –º–∞—à–∏–Ω
                                üî•üî• –û—á–µ–Ω—å –¥–æ–≤–æ–ª–µ–Ω —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ–º —Å NLC –∏ —Å–µ–π—á–∞—Å —É–∂–µ –Ω–∞—Å–ª–∞–∂–¥–∞—é—Å—å –Ω–æ–≤—ã–º –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–º!
                                –†–µ–∫–æ–º–µ–Ω–¥—É—é –≤—Å–µ–º –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∑–∞ –ø–æ–º–æ—â—å—é –≤ –ø–æ–¥–±–æ—Ä–µ –º–∞—à–∏–Ω—ã –∏–º–µ–Ω–Ω–æ –∫ –Æ—Ä–∏—é.
                            </p>
                            <button v-if="activeReview!=5" class="reviews__text-more" @click="changeActiveReviews(5)">
                                <img src="@/assets/img/reviews/arrow.svg" alt="" />
                                –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                            </button>
                            <button v-if="activeReview==5" class="reviews__text-more" @click="changeActiveReviews(0)">
                                <img src="@/assets/img/reviews/arrowUp.svg" alt="" />
                                –°–∫—Ä—ã—Ç—å
                            </button>
                            <p class="reviews__name"><i>- –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω</i></p>
                        </div>
                    </div>
                </SwiperSlide>
            </Swiper>
            <div class="swiper-navigate">
                <div class="swiper-prev">
                    <svg width="88" height="88" viewBox="0 0 88 88" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="44" cy="44" r="43.5" stroke="#35322E" />
                        <path
                            d="M58.5092 44.7391C58.7045 44.5438 58.7045 44.2272 58.5092 44.0319L55.3273 40.85C55.132 40.6547 54.8154 40.6547 54.6201 40.85C54.4249 41.0452 54.4249 41.3618 54.6201 41.5571L57.4486 44.3855L54.6201 47.2139C54.4249 47.4092 54.4249 47.7258 54.6201 47.921C54.8154 48.1163 55.132 48.1163 55.3273 47.921L58.5092 44.7391ZM29.8906 44.8855H58.1557V43.8855H29.8906V44.8855Z"
                            fill="#35322E" />
                    </svg>
                </div>
                <div class="swiper-next">
                    <svg width="88" height="88" viewBox="0 0 88 88" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="44" cy="44" r="43.5" stroke="#35322E" />
                        <path
                            d="M58.5092 44.7391C58.7045 44.5438 58.7045 44.2272 58.5092 44.0319L55.3273 40.85C55.132 40.6547 54.8154 40.6547 54.6201 40.85C54.4249 41.0452 54.4249 41.3618 54.6201 41.5571L57.4486 44.3855L54.6201 47.2139C54.4249 47.4092 54.4249 47.7258 54.6201 47.921C54.8154 48.1163 55.132 48.1163 55.3273 47.921L58.5092 44.7391ZM29.8906 44.8855H58.1557V43.8855H29.8906V44.8855Z"
                            fill="#35322E" />
                    </svg>
                </div>
            </div>
        </div>
    </section>
</template>

<style lang="scss" scoped>
.reviews {
    padding-top: 100px;
    padding-bottom: 100px;
    display: flex;
    flex-direction: column;
    align-items: center;

    &__swiper {
        margin-top: 29px;
        width: 100%;
        max-width: 1325px;
    }

    &__card {
        display: flex;
        flex-direction: row;
    }

    &__img {
        border-radius: 14px;
        width: 562px;
        height: 462px;
        position: relative;
        z-index: -1;
        left: 20px;

        img {
            border-radius: 14px;
            object-fit: cover;
            width: 100%;
            height: 100%;
        }
    }

    &__content {
        padding: 30px 41px 30px 35px;
        background: #FFFFFF;
        border-radius: 14px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        max-width: 763px;
    }

    &__text {
        font-weight: 400;
        font-size: 16px;
        line-height: 162.61%;

        &-more {
            display: none;
        }
    }
}

.swiper-navigate {
    display: flex;
    gap: 20px;
    justify-content: flex-end;
    margin: 18px 0 0 0;

    .swiper-prev {
        svg {
            transform: rotate(180deg);
        }
    }

    .swiper-prev,
    .swiper-next {
        cursor: pointer;
    }

    .swiper-button-disabled {
        opacity: 0.24;
        cursor: auto;
    }
}

@media (max-width: 1450px) {
    .reviews {
        &__swiper {
            max-width: 880px;
        }

        &__img {
            width: 356px;
            height: 382px;
        }

        &__content {
            max-width: 549px;
        }

        &__text {
            font-size: 14px;
            line-height: 162.61%;
        }
    }

    .swiper-navigate {

        .swiper-prev,
        .swiper-next {
            width: 61px;
            height: 61px;

            svg {
                object-fit: cover;
                width: 100%;
                height: 100%;
            }
        }
    }
}

@media(max-width: 992px) {
    .reviews {
        padding: 40px 30px;

        &__swiper {
            max-width: 100%;
        }

        &__content {
            max-width: 60%;
        }

        &__img {
            height: unset;
        }

        &__card {
            height: 100%;
        }

        .swiper-slide {
            height: auto;
        }
    }
}

@media(max-width: 800px) {
    .reviews {

        &__card {
            flex-direction: column;
        }

        &__content {
            order: -1;
            max-width: 100%;
            padding: 31px 29px 40px 22px;
            height: 100%;
        }

        &__img {
            width: 100%;
            left: 0;
            top: -20px;
            z-index: 10;
            height: 300px;
        }

        &__text {
            display: block;
            overflow: hidden;
            max-height: 60px;
            /* text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 5;
            -webkit-box-orient: vertical;
            position: relative; */
            transition: max-height 0.5s;

            &-more {
                display: flex;
                flex-direction: column;
                align-items: center;
                color: #BEBEBE;
                font-size: 14px;
                line-height: 162.61%;
                background-color: transparent;
            }

            &--active {
                height: fit-content;
                height: fit-content;
                max-height: 450px;

                &::after {
                   opacity: 0;
                }
            }

            &::after {
                content: "";
                position: absolute;
                background: linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%);
                top: 20px;
                bottom: 0;
                height: 75px;
                left: 0;
                right: 0;
                transform: rotate(180deg);
                transition: opacity 0.6s;
            }
        }


        .swiper-navigate {
            justify-content: center;
            gap: 11px;
        }
    }
}

@media(max-width: 600px) {
    .reviews {
        padding: 40px 15px;

        &__content {
            gap: 17px;
        }
    }
}

@media(max-width: 450px) {
    .reviews {

        &__img {
            height: 249px;
        }

        .swiper-navigate {
            margin-top: 0;
        }
    }
}
</style>